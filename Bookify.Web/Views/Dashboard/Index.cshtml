@model Bookify.Web.Core.ViewModels.Dashboard.DashboardViewModel

<h1 class="mb-4">📊 Dashboard</h1>
@section Styles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
}

<!-- 📌 Overview Statistics -->
<div class="row">
    <div class="col-md-3">
        <div class="card shadow bg-primary text-white p-3">
            <h5><i class="fas fa-book"></i> Total Books</h5>
            <h2>@Model.TotalBooks</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow bg-info text-white p-3">
            <h5><i class="fas fa-copy"></i> Total Book Copies</h5>
            <h2>@Model.TotalBookCopies</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow bg-success text-white p-3">
            <h5><i class="fas fa-users"></i> Total Subscribers</h5>
            <h2>@Model.TotalSubscribers</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow bg-warning text-red p-3">
            <h5><i class="fas fa-hand-holding"></i> Active Rentals</h5>
            <h2>@Model.ActiveRentals</h2>
        </div>
    </div>
</div>

<!-- 📌 More Statistics -->
<div class="row mt-4">
    <div class="col-md-3">
        <div class="card shadow bg-success text-white p-3">
            <h5><i class="fas fa-check-circle"></i> Active Subscriptions</h5>
            <h2>@Model.ActiveSubscriptions</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow bg-secondary text-white p-3">
            <h5><i class="fas fa-exclamation-circle"></i> Expired Subscriptions</h5>
            <h2>@Model.ExpiredSubscriptions</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow bg-danger text-white p-3">
            <h5><i class="fas fa-ban"></i> Blacklisted Subscribers</h5>
            <h2>@Model.BlacklistedSubscribers</h2>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card shadow bg-red text-white p-3">
            <h5><i class="fas fa-book-reader"></i> Books Available for Rental</h5>
            <h2>@Model.AvailableBookCopies</h2>
        </div>
    </div>
</div>

<!-- 📌 Top 5 Rented Books -->
<div class="card shadow mt-5">
    <div class="card-header bg-primary text-white text-center d-flex justify-content-center align-items-center">
        <h5><i class="fas fa-chart-line me-2"></i> Top 5 Rented Books</h5>
    </div>
    <div class="card-body">
        <table class="table table-striped table-hover">
            <thead class="table-light">
                <tr>
                    <th>#</th>
                    <th>📖 Book Title</th>
                    <th>📊 Rental Count</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.TopRentedBooks.Any())
                {
                    int index = 1;
                    @foreach (var book in Model.TopRentedBooks)
                    {
                        <tr>
                            <td>@index</td>
                            <td>@book.Title</td>
                            <td><span class="badge bg-success">@book.RentalCount</span></td>
                        </tr>
                        index++;
                    }
                }
                else
                {
                    <tr>
                        <td colspan="3" class="text-center text-muted">No Data Available</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- 📌 Monthly Rentals -->
<div class="card shadow mt-5">
    <div class="card-header bg-info text-white text-center d-flex justify-content-center align-items-center">
        <h5><i class="fas fa-calendar-alt me-2"></i> Monthly Rentals</h5>
    </div>
    <div class="card-body">
        <table class="table table-bordered">
            <thead class="table-light">
                <tr>
                    <th>📅 Month</th>
                    <th>📊 Rental Count</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var rental in Model.MonthlyRentals)
                {
                    <tr>
                        <td>@rental.Key</td>
                        <td><span class="badge bg-primary">@rental.Value</span></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- 📌 Rentals by Category -->
<div class="card shadow mt-5">
    <div class="card-header bg-secondary text-white text-center d-flex justify-content-center align-items-center">
        <h5><i class="fas fa-layer-group"></i> Rentals by Category</h5>
    </div>
    <div class="card-body">
        <table class="table table-hover">
            <thead class="table-light">
                <tr>
                    <th>📚 Category</th>
                    <th>📊 Rental Count</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var category in Model.CategoryRentals)
                {
                    <tr>
                        <td>@category.Key</td>
                        <td><span class="badge bg-info">@category.Value</span></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
